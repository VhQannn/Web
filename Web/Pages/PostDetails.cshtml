@page
@model Web.Pages.PostDetailsModel

@{
	ViewData["Title"] = "Bài đăng";
}

<div>
	<hr />
	<dl class="row">
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Post.PostTitle)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Post.PostTitle)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Post.PostContent)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Post.PostContent)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Post.PostDate)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Post.PostDate)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Post.TimeSlot)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Post.TimeSlot)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Post.Status)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Post.Status)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Post.PostCategory)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Post.PostCategory.PostCategoryId)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Post.User)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Post.User.UserId)
		</dd>
	</dl>
</div>
<div class="comment-container" id="comment-container">
	<label>Bình luận và đưa giá</label>
	<div>
		<textarea id="commentText" cols="90" rows="3" placeholder="Nhập bình luận của bạn..."></textarea>
		<input type="text" id="priceOffered" class="price-input price-vnd-format" placeholder="Đưa giá của bạn (đ)" />
		<button id="postCommentBtn">Đăng</button>
	</div>
</div>



<div class="comment-container">
	<label>Các bình luận hiện có:</label>
	<div id="comments-section" class="comments-list">
		<!-- Comments will be loaded here -->
	</div>
</div>

<div class="my-5">
	<a asp-page="/Index">Quay về trang chủ</a>
</div>


<span id="regError" data-my-attribute=""></span>

<div class="my-toast">
	<div id="toast"></div>
</div>

<div class="overlay" id="overlay"></div>

<div class="confirm-box" id="confirm-box">
	<div class="box-header">
		<h2>Chấp nhận giá offer này của supporter?</h2>
	</div>
	<div class="box-content">
		<p>Bạn sẽ thanh toán số tiền này cho supporter. Chúng tôi sẽ hoàn tiền nếu supporter này có hành vi lừa đảo</p>
	</div>
	<div class="button-container">
		<button id="yes-button">Yeah, Tôi xác nhận</button>
		<button id="no-button">Tôi sẽ suy nghĩ lại</button>
	</div>
</div>

<!-- Pop-up QR code -->
<div id="popup-backdrop" class="popup-backdrop"></div>
<div id="vietqr-popup" class="popup">
	<img id="txtQRCode" alt="VietQR code">
	<div style="margin-top: 5px;"><span id="popup-close" class="popup-close">Close</span></div>

</div>


<script>
	var postUserId = @Model.Post.User.UserId;
	const errorBox = document.getElementById('regError');

	function showToast(title, message, type) {
		toast({
			title: title,
			message: message,
			type: type,
			duration: 3000
		});
	}


</script>
